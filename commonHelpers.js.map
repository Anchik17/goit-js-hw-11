{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const getArr = userParam => {\n    const searchParams = new URLSearchParams({\n        key: '44080035-ad15b59279a4b32b32cca2a53',\n        q: userParam,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n    return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n        if(!response.ok) {\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n};\n\nexport default getArr;","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  const renderImages = (imgsArr, gallery) => {\n    const element = imgsArr.hits.map(\n        ({ \n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads, \n        }) =>\n            `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n              <img src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"description\">\n              <p>Likes <span class=\"desc-span\">${likes}</span></p>\n              <p>Views <span class=\"desc-span\">${views}</span></p>\n              <p>Comments <span class=\"desc-span\">${comments}</span></p>\n              <p>Downloads <span class=\"desc-span\">${downloads}</span></p>\n            </div>\n          </li>`   \n    )\n    .join('');\n\n    gallery.insertAdjacentHTML('beforeend', element);\n    lightbox.refresh();\n  };\n\n  export default renderImages;","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getArr from \"./js/pixabay-api\";\nimport renderImages from \"./js/render-functions\";\n\nconst section = document.querySelector('section').children;\nconst form = section[0];\nconst loader = section[1];\nconst gallery = section[2];\n\niziToast.settings({\n    progressBar: false,\n    timeout: 4000,\n    resetOnHover: true,\n    icon: 'material-icons',\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    position: 'topRight',\n});\n\nconst submitForm = event => {\n    event.preventDefault();\n    gallery.innerHTML = '';\n    loader.style.display = 'block';\n\n    const textFromUser = event.target.searchTerm.value.trim().toLowerCase();\n    getArr(textFromUser)\n        .then(response => {\n            if (response.hits.length === 0) {\n                iziToast.warning({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n\n            renderImages(response, gallery);\n        })\n        .catch(error => console.error('Error', error))\n        .finally(() => {\n            form.reset();\n            loader.style.display = 'none';\n        });\n};\n\nform.addEventListener('submit', submitForm);"],"names":["getArr","userParam","searchParams","response","lightbox","SimpleLightbox","renderImages","imgsArr","gallery","element","largeImageURL","webformatURL","tags","likes","views","comments","downloads","section","form","loader","iziToast","submitForm","event","textFromUser","error"],"mappings":"6vBAAA,MAAMA,EAASC,GAAa,CACxB,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACtE,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,ECZMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,GAClB,CAAG,EAEKC,EAAe,CAACC,EAASC,IAAY,CACzC,MAAMC,EAAUF,EAAQ,KAAK,IACzB,CAAC,CACD,cAAAG,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACC,IACG;AAAA,4CACgCN,CAAa;AAAA,0BAC/BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,iDAGHC,CAAK;AAAA,iDACLC,CAAK;AAAA,oDACFC,CAAQ;AAAA,qDACPC,CAAS;AAAA;AAAA,gBAGzD,EACA,KAAK,EAAE,EAERR,EAAQ,mBAAmB,YAAaC,CAAO,EAC/CL,EAAS,QAAO,CACjB,EC9BGa,EAAU,SAAS,cAAc,SAAS,EAAE,SAC5CC,EAAOD,EAAQ,CAAC,EAChBE,EAASF,EAAQ,CAAC,EAClBT,EAAUS,EAAQ,CAAC,EAEzBG,EAAS,SAAS,CACd,YAAa,GACb,QAAS,IACT,aAAc,GACd,KAAM,iBACN,aAAc,UACd,cAAe,WACf,SAAU,UACd,CAAC,EAED,MAAMC,EAAaC,GAAS,CACxBA,EAAM,eAAc,EACpBd,EAAQ,UAAY,GACpBW,EAAO,MAAM,QAAU,QAEvB,MAAMI,EAAeD,EAAM,OAAO,WAAW,MAAM,KAAI,EAAG,cAC1DtB,EAAOuB,CAAY,EACd,KAAKpB,GAAY,CACVA,EAAS,KAAK,SAAW,GACzBiB,EAAS,QAAQ,CACb,QAAS,0EAC7B,CAAiB,EAGLd,EAAaH,EAAUK,CAAO,CAC1C,CAAS,EACA,MAAMgB,GAAS,QAAQ,MAAM,QAASA,CAAK,CAAC,EAC5C,QAAQ,IAAM,CACXN,EAAK,MAAK,EACVC,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,EAEAD,EAAK,iBAAiB,SAAUG,CAAU"}